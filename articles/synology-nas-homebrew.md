---
published: true
type: idea
topics:
  - Synology
emoji: ğŸ’­
title: Synology NASã¸ã®Homebrew(linuxbrew)ã‚’ä½¿ã£ãŸNeovimã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
---
# æ¦‚è¦
Synology NASã«ã„ã‚ã‚“ãªãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã„ã¨ã(ã¾ã‚æœ¬å½“ã¯ã—ãªã„ã»ã†ãŒã„ã„ã‚“ã§ã™ãŒ)ã€Entwareã¨å‘¼ã°ã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã†ã®ãŒä¸€èˆ¬çš„ã ã¨æ€ã‚ã‚Œã¾ã™ã€‚
ã—ã‹ã—ãªãŒã‚‰ã€Entwareã¯ãƒªãƒã‚¸ãƒˆãƒªãŒå°ã•ãå¤ã‚ãªãŸã‚ä»–ã«ä½¿ãˆã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãŒãªã„ã‹ã¨èª¿ã¹ã¦ã„ãŸã¨ã“ã‚ã€Homebrewã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã¨ã„ã†æƒ…å ±ã‚’è¦‹ã‹ã‘ã¦è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚
ã“ã®brewã‚’ä½¿ã£ã¦neovim nightlyã‚’Synology NASã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

# Homebrewã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
ã¾ã‚â†“ã®è¨˜äº‹ã«ã‚ã‚‹é€šã‚Šãªã®ã§ã™ãŒã‚„ã£ã¦ã„ãã¾ã™ã€‚

https://community.synology.com/enu/forum/1/post/153781

## 1. `ldd`ã‚³ãƒãƒ³ãƒ‰ã®ä½œæˆ
homebrewã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«`ldd --version`ã‚’å®Ÿè¡Œã™ã‚‹ã¿ãŸã„ã§ã™ãŒsynology nasã«ã¯é€™ã£ã¦ãªã„ã®ã§ç„¡ç†ã‚„ã‚Šä½œã‚Šã¾ã™ã€‚
```sh:/usr/bin/ldd
#!/bin/bash  
[[ $(/usr/lib/libc.so.6) =~ version\ ([0-9]\.[0-9]+) ]] && echo "ldd ${BASH_REMATCH[1]}"
```

## 2. `/home`ã¸ã®ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒã‚¦ãƒ³ãƒˆ
ã©ã†ã‚„ã‚‰brewã¯`/home`ã«å„ãƒ¦ãƒ¼ã‚¶ã®ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒã‚ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã‚‹ã¿ãŸã„ã§ã™ãŒsynologyã§ã¯`/var/services/homes`ã«ã‚ã‚‹ã®ã§è‰²ã€…ã†ã¾ãã„ã‹ãªã„ã¿ãŸã„ã§ã™ã€‚ãªã®ã§`/home`ã«ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™ã€‚
```sh
sudo mkdir /home
sudo mount -o bind "/volume1/homes" /home
```
æã‚‰ã`mount`ã‚³ãƒãƒ³ãƒ‰ã¯ã‚¿ã‚¹ã‚¯ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ãƒ–ãƒ¼ãƒˆæ™‚ã«å®Ÿè¡Œã•ã›ã¦ã‚ã’ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

## 3. brewã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
[Homebrewå…¬å¼ã‚µã‚¤ãƒˆ](https://brew.sh/ja/)ã«æ›¸ã„ã¦ã‚ã‚‹é€šã‚Šã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚æˆåŠŸã™ã‚Œã°`/home/linuxbrew/.linuxbrew/bin`ã«`brew`ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚‹ã¯ãšã§ã™ã€‚

## 4. ãƒ‘ã‚¹ã‚’é€šã™
`/etc/profile`ã«PATHã‚’è¿½è¨˜ã—ã¾ã—ãŸã€‚
```sh:/etc/profile
PATH=$PATH:/home/linuxbrew/.linuxbrew/bin
```

# Neovimã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

:::message
æœ¬å½“ã¯homebrewã§neovimã®headã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã„ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒãƒ“ãƒ«ãƒ‰ãŒã‚³ã‚±ã¾ãã‚‹ã®ã§è«¦ã‚ã¾ã—ãŸã€‚
ä»£ã‚ã‚Šã«[bob](https://github.com/MordechaiHadad/bob)ã¨ã„ã†neovimã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ã‚’brewã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚
:::

:::details brewã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã‚ˆã†ã¨ã—ã¦ã„ãŸè¨˜éŒ²ã®æ–­ç‰‡
## 1. gccã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
neovimã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã«ã¯gccãŒå¿…è¦ãªã®ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
```
brew install gcc
```

## 2. gccã®symlinkã‚’ä½œæˆ

## 3. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

:::

æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§neovimãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚
```sh
brew install bob
bob install nightly
bob use nightly
```
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚‰ã€`~/.local/share/bob/nvim-bin`ã«PATHã‚’é€šã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

> ã“ã®è¨˜äº‹ã¯ [https://note.nazo6.dev/blog/synology-nas-homebrew](https://note.nazo6.dev/blog/synology-nas-homebrew) ã¨ã®ã‚¯ãƒ­ã‚¹ãƒã‚¹ãƒˆã§ã™ã€‚