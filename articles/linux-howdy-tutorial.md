---
published: true
type: tech
topics:
  - Linux
emoji: ğŸ˜€
title: Linuxã§é¡”èªè¨¼ã‚’å‹•ä½œã•ã›ã‚‹
---

Linuxã§ã€Windows Helloã®ã‚ˆã†ã«è‰²ã€…ãªæ‰€ã§é¡”èªè¨¼ã‚’ä½¿ã†æ–¹æ³•

# 1. Howdyã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

åŸºæœ¬çš„ã«Linuxã§é¡”èªè¨¼ã—ãŸã„å ´åˆã¯[howdy](https://github.com/boltgolt/howdy)ã‚’ä½¿ã†ã€‚ã“ã‚Œã‚’ã¾ãšã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚ãŸã ã—ã€ãƒªãƒªãƒ¼ã‚¹ç‰ˆã¯éå¸¸ã«å¤ã„ãŸã‚ã€gitç‰ˆã‚’ä½¿ã†ã“ã¨ã‚’å‰æã«ã™ã‚‹ã€‚

Archã§ã‚ã‚Œã°AURã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‚ã‚‹ãŸã‚ã€

```
paru -Sy howdy-git
```

ãªã©ã¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹

# 2. howdyã®è¨­å®š

ã¾ãšã¯ç›®çš„ã®ã‚«ãƒ¡ãƒ©ã‚’æ¢ãã†ã€‚ä¾‹ãˆã°`mpv`ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚Œã°

```
mpv /dev/video0
```

ãªã©ã¨ã—ã¦ã‚«ãƒ¡ãƒ©æ˜ åƒã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚`video0`ã®æ•°å­—éƒ¨åˆ†ã‚’å¤‰ãˆãªãŒã‚‰ã©ã‚ŒãŒæ­£è§£ã‹è©¦ã—ã¦æ¢ã™ã€‚

ç›®çš„ã®ã‚«ãƒ¡ãƒ©ã®ãƒ‘ã‚¹ãŒåˆ†ã‹ã£ãŸã‚‰

```
sudo howdy config
```

ã§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã(nanoãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹)ã€

```
device_path =
```

ã®è¡Œã«å…ˆç¨‹ã®`/dev/video0`ãªã©ã‚’æ›¸ãè¶³ã™ã€‚

æ¬¡ã«ã€

```
sudo howdy add
```

ã‚’å®Ÿè¡Œã—ã€é¡”ã‚’ç™»éŒ²ã™ã‚‹ã€‚ç™»éŒ²ã—çµ‚ã‚ã£ãŸã‚‰

```
sudo howdy test
```

ã§ã€ãã¡ã‚“ã¨é¡”ãŒèªè­˜ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚

# 3. PAMã®è¨­å®š

ã“ã“ã¾ã§ã§Howdyè‡ªä½“ã®è¨­å®šã¯çµ‚ã‚ã£ãŸãŒã€æ¬¡ã«ã©ã“ã§Howdyã‚’ä½¿ã†ã‹æ±ºã‚ã‚‹ãŸã‚ã€PAMã®è¨­å®šã‚’ã„ã˜ã‚‹ã€‚ã¾ãšã€

```
cd /etc/pam.d
ls
```

ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ã€æ§˜ã€…ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ãˆã‚‹ã¯ãšã€‚ä¾‹ãˆã°`sudo`ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã¯ãšã§ã€ã“ã‚Œã¯`sudo`ã‚’ä½¿ã†éš›ã«ã©ã®ã‚ˆã†ãªèªè¨¼æ–¹æ³•ã‚’ä½¿ã†ã‹ã®è¨­å®šã‚’è¨˜è¿°ã—ã¦ã„ã‚‹ã€‚

## sudo

ã§ã¯ã¾ãšsudoã®æŒ™å‹•ã‚’è¨­å®šã™ã‚‹ãŸã‚ã«å¥½ããªã‚¨ãƒ‡ã‚£ã‚¿ã§`sudo`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ã¦ã¿ã‚ˆã†

```
sudo vim sudo
```

ã™ã‚‹ã¨ã€

```
#%PAM-1.0
auth		include		system-auth
account		include		system-auth
session		include		system-auth
```

ã“ã®ã‚ˆã†ãªãƒ•ã‚¡ã‚¤ãƒ«ã¨ãªã£ã¦ã„ã‚‹ã¯ãšã ã€‚ã“ã®`#%PAM`ã®è¡Œã®å¾Œã«

```
auth		sufficient	/lib/security/pam_howdy.so
```

ã‚’è¿½åŠ ã—ã¦ä¿å­˜ã™ã‚‹ã€‚ãªãŠã€æ—¥æœ¬èªç‰ˆArch
Wikiã§ã¯è‹¥å¹²é•ã†è¨˜è¿°ã«ãªã£ã¦ã„ã‚‹ãŒã€ãã‚Œã¯å¤ã„ã‚‚ã®ãªã®ã§æ³¨æ„ã€‚

ã“ã‚Œã§`sudo`ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€é¡”èªè¨¼ã«ã‚ˆã£ã¦èªè¨¼ãŒã•ã‚Œã‚‹ã¯ãšã€‚

## GUIç‰¹æ¨©ãƒ€ã‚¤ã‚¢ãƒ­ã‚°

æ¬¡ã«ã€ãƒ•ã‚¡ã‚¤ãƒ©ãƒ¼ãªã©ã§ç‰¹æ¨©æ“ä½œã‚’è¡Œã†å ´åˆãªã©ã«è¡¨ç¤ºã•ã‚Œã‚‹GUIã®ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§é¡”èªè¨¼ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚è‡ªåˆ†ã¯KDEã§ã—ã‹ç¢ºèªã—ã¦ã„ãªã„ãŒæã‚‰ãä»–ã®DEã§ã‚‚å‹•ãã¯ãšã€‚ã“ã®ãŸã‚ã«ã¯polkitã®è¨­å®šã‚’å¤‰æ›´ã™ã‚‹ã€‚

ãŸã ã€è‡ªåˆ†ã®å ´åˆã¯polkitã®PAMè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒç„¡ã‹ã£ãŸãŒã€ã“ã®issue

https://github.com/boltgolt/howdy/issues/623

ã‚’è¦‹ã‚‹ã¨ã€`/usr/lib/pam.d/polkit-1`ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãã‚Œã°ã„ã„ã‚ˆã†ã ã€‚

```
sudo cp /usr/lib/pam.d/polkit-1 .
```

ã“ã®`polkit-1`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã€å…ˆã¨åŒã˜ã‚ˆã†ã«Howdyã®è¨­å®šã‚’è¿½åŠ ã™ã‚‹ã€‚

ã“ã‚Œã§ã€GUIã§ã®ç‰¹æ¨©èªè¨¼æ™‚ã«é¡”èªè¨¼ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚

## KDE(ãƒ­ãƒƒã‚¯è§£é™¤)

æ¬¡ã«ã€KDEã®ãƒ­ãƒƒã‚¯è§£é™¤ã‚’è¨­å®šã™ã‚‹ã€‚ã“ã‚Œã¯KDEã‹ã‚‰æ˜ç¤ºçš„ã«ãƒ­ãƒƒã‚¯ã—ãŸå ´åˆã«ç”¨ã„ã‚‰ã‚Œã‚‹ã‚‚ã®ã§ã‚ã‚Šã€SDDMãªã©ã®ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ãƒãƒãƒ¼ã‚¸ãƒ£ã«ã‚ˆã£ã¦è¡Œã‚ã‚Œã‚‹åˆå›ãƒ­ãƒƒã‚¯è§£é™¤æ™‚ã¨ã¯é•ã†ã‚‚ã®ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã€‚
ã“ã‚Œã‚‚å…ˆç¨‹ã¨åŒæ§˜ã«`pam.d`ãƒ•ã‚©ãƒ«ãƒ€ã«`kde`ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã¯ãšãªã®ã§ãã‚Œã‚’åŒã˜ãç·¨é›†ã™ã‚‹ã ã‘ã€‚

## SDDM(éæ¨å¥¨)

KDEã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ãƒãƒãƒ¼ã‚¸ãƒ£ã§ã‚ã‚‹SDDMã¯èµ·å‹•ç›´å¾Œã‚„ã‚¹ãƒªãƒ¼ãƒ—è§£é™¤å¾Œã®ãƒ­ã‚°ã‚¤ãƒ³ãªã©ã‚’å¸ã‚Šã€ã“ã‚Œã«ã¤ã„ã¦ã‚‚å…ˆç¨‹ã¨åŒæ§˜ã«`sddm`ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚‹ã“ã¨ã§é¡”èªè¨¼ã«ã‚ˆã‚‹è§£é™¤ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹â€¦

ã®ã ãŒã€ã“ã‚Œã¯ãŠã™ã™ã‚ã—ãªã„ã€‚ã¨ã„ã†ã®ã‚‚ã€SDDMã‚’é¡”èªè¨¼ã§è§£é™¤ã™ã‚‹ã¨KWalletã®ãƒ­ãƒƒã‚¯ãŒè§£é™¤ã•ã‚Œãšã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’æ±‚ã‚ã‚‰ã‚Œã‚‹ã‹ã‚‰ã§ã‚ã‚‹ã€‚KWalletã¨ã¯è³‡æ ¼æƒ…å ±ã‚’å®‰å…¨ã«ä¿ç®¡ã—ã¦ãŠããŸã‚ã®ã‚·ã‚¹ãƒ†ãƒ ã§ã€git-credential-managerãªã©ã§å†…éƒ¨çš„ã«ä½¿ã‚ã‚Œã¦ã„ã‚‹ã€‚

KWalletã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¨åŸºæœ¬çš„ã«åŒã˜ãŸã‚ã€SDDMã§ç›´æ¥ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå…¥åŠ›ã•ã‚ŒãŸå ´åˆè‡ªå‹•ã§KWalletã®ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ã§ãã‚‹ã€‚ã—ã‹ã—ã€Howdyã§ã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ãªã„ãŸã‚ãã†ã¯ã„ã‹ãªã„ã€‚ã“ã‚Œã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã¯Howdyã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ä¿ç®¡ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã‚ˆã‚ã—ããªã„ãŸã‚å®Ÿè£…ã•ã‚Œã¦ã„ãªã„ã€‚è©³ã—ãã¯â†“

https://github.com/boltgolt/howdy/issues/56

ä»Šå›ã¯KDE(KWallet)ã®è©±ã ãŒã€Gnome Keyringãªã©ã§ã‚‚åŒã˜å•é¡ŒãŒèµ·ãã‚‹ã¨è€ƒãˆã‚‰ã‚Œã‚‹ã€‚



> ã“ã®è¨˜äº‹ã¯ [https://note.nazo6.dev/blog/linux-howdy-tutorial](https://note.nazo6.dev/blog/linux-howdy-tutorial) ã¨ã®ã‚¯ãƒ­ã‚¹ãƒã‚¹ãƒˆã§ã™ã€‚